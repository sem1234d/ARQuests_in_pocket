(this.webpackJsonpnrf=this.webpackJsonpnrf||[]).push([[0],{161:function(e,t,n){e.exports=n(277)},166:function(e,t,n){},168:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"},169:function(e,t,n){e.exports=n.p+"static/media/cof.88fc8da6.png"},176:function(e,t){},177:function(e,t){},178:function(e,t){},179:function(e,t){},180:function(e,t){},181:function(e,t){},191:function(e,t){},214:function(e,t,n){},224:function(e,t){},226:function(e,t){},234:function(e,t){},236:function(e,t){},270:function(e,t){},271:function(e,t){},273:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=273},277:function(e,t,n){"use strict";n.r(t);var a,i,o,c,s=n(1),r=n.n(s),l=n(79),u=n.n(l),m=(n(166),n(14)),d=n.n(m),p=n(31),h=n(26),f=n(27),v=n(30),b=n(28),w=n(13),y=n(29),g=(n(168),n(169),n(170),n(278),n(171),n(174),n(19),n(32)),E=(n(194),n(211),n(214),n(45)),k=n.n(E),j=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.visibility?r.a.createElement("div",{className:"information_"+this.props.visibility,onClick:this.props.onClick},r.a.createElement("div",{className:"placeName"},this.props.place)):r.a.createElement("div",{className:"information_"+this.props.visibility},r.a.createElement("div",{className:"placeName"},this.props.place)))}}]),t}(r.a.Component),O=(n(215),[]),x=!0,C=!0,N="https://teachablemachine.withgoogle.com/models/M-EysKKf/",I=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).random=function(){return Math.floor(Math.random()*Math.floor(c))},n.create_all=function(e){for(var t=0;t<c;t++)O.push(e[t].className)},n.shot=function(){1==C&&n.predict()},n.sucsess=function(e){x=!1,C=!1,n.setState({mustShow:!n.state.mustShow})},n.next=function(){setTimeout((function(){x=!0,C=!0,a=n.random(),document.getElementById("fin").innerHTML="<h1>"+O[a]+"</h1>",document.getElementById("webcam-container").style.display="block",document.getElementById("webcam-container").appendChild(o.canvas),window.requestAnimationFrame(n.loop)}),3e3)},n.state={mustShow:!1,place:"\u0421\u043e\u0431\u043e\u0440\u043d\u0430\u044f \u043a\u043e\u043b\u043e\u043a\u043e\u043b\u044c\u043d\u044f"},n.handleClick=n.handleClick.bind(Object(w.a)(n)),n.init=n.init.bind(Object(w.a)(n)),n.loop=n.loop.bind(Object(w.a)(n)),n.predict=n.predict.bind(Object(w.a)(n)),n}return Object(y.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(e){this.init()}},{key:"init",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,s,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N+"model.json",N+"metadata.json",console.log(1),e.next=5,g.load("https://teachablemachine.withgoogle.com/models/M-EysKKf/model.json","https://teachablemachine.withgoogle.com/models/M-EysKKf/metadata.json");case 5:return i=e.sent,c=i.getTotalClasses(),t=document.getElementById("canvas"),e.next=10,i.predict(t);case 10:return n=e.sent,this.create_all(n),console.log(n),a=this.random(),document.getElementById("fin"),console.log(a),console.log(O),!1,s=k()("#webcam-container").height(),r=k()("#webcam-container").width(),o=s>r?new g.Webcam(s,r,!1):new g.Webcam(r,s,!1),e.next=23,o.setup();case 23:return e.next=25,o.play();case 25:document.getElementById("spinner").style.display="none",window.requestAnimationFrame(this.loop),document.getElementById("webcam-container").appendChild(o.canvas);case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loop",value:function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1==x&&(o.update(),window.requestAnimationFrame(this.loop));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"predict",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.predict(o.canvas);case 2:for(t=e.sent,n=0;n<c;n++)a=t[n].className+": "+t[n].probability.toFixed(2),console.log(a),t[n].probability.toFixed(2)>=.89&&"other"!=t[n].className&&(this.setState({place:t[n].className}),this.sucsess());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){this.shot()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{id:"webcam-container",onClick:function(){return e.shot()},style:{weight:"100vw",height:"100vh",zIndex:"103000",position:"relative"}}),r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"fin"}),r.a.createElement("button",{id:"next",style:{display:"none"},onClick:function(){return e.next()}},"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439"),r.a.createElement(j,{visibility:this.state.mustShow,onClick:this.handleClick,place:this.state.place}),r.a.createElement("div",{id:"shotting",onClick:this.handleClick})),r.a.createElement("div",{class:"spinner",id:"spinner"}),r.a.createElement("canvas",{id:"canvas",style:{display:"none"}}))}}]),t}(r.a.Component),B=n(81),M=n.n(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));M.a.send("VKWebAppInit",{}),u.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[161,1,2]]]);
//# sourceMappingURL=main.f3f27a65.chunk.js.map